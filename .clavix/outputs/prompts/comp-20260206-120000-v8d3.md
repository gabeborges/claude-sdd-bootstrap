---
id: comp-20260206-120000-v8d3
depthUsed: comprehensive
timestamp: 2026-02-06T12:00:00Z
executed: true
originalPrompt: "take a look at samples/product-vision-strategy.md and tell me if it's AI efficient and/or if we could break it down into another documents more specific to security, compliance, database, etc? Create a report for that in .ops/analysis"
---

# Improved Prompt

## Objective

Analyze `samples/product-vision-strategy.md` (the template for `.ops/product-vision-strategy.md`) for AI-agent token efficiency. Determine whether the monolithic structure causes agents to load irrelevant content, and recommend a decomposition strategy if warranted.

## Scope

Evaluate the full document (~427 lines, 16 sections) against these questions:

1. **Token waste analysis:** When an agent needs security rules, how many irrelevant tokens does it load? Same for compliance, database, AI strategy, integration, and architecture sections.

2. **Domain clustering:** Which sections naturally group into standalone reference documents? Evaluate at minimum:
   - Security & compliance (sections 11, parts of 10)
   - Database & data principles (section 10, data flow rules)
   - AI strategy & boundaries (section 12)
   - Integration philosophy (section 13)
   - Architecture & scalability (sections 9, 14)
   - Product strategy (sections 1-7, 15-16)

3. **Cross-reference density:** Which sections reference each other heavily (should stay together) vs. are independently consumable?

4. **Agent read-contract impact:** Given the agent swarm in `claude/agents/`, which agents currently need this doc, what sections do they actually need, and how much unnecessary content do they load?

## Evaluation Criteria

For each proposed split document, assess:
- **Relevance ratio:** % of content an agent typically needs vs. total loaded
- **Standalone coherence:** Can the split doc be understood without the parent?
- **Update frequency:** Do the sections change at different cadences?
- **Cross-reference overhead:** Would splitting create circular dependencies?

## Output Format

Create a report at `.ops/analysis/vision-document-efficiency-report.md` with:
- Executive summary (2-3 sentences)
- Current state analysis (token cost, relevance ratios per domain)
- Recommended document structure (proposed files, what goes where)
- Migration impact (what agents/files need updating)
- Trade-offs and risks of decomposition
- Recommendation (decompose vs. keep monolithic vs. hybrid approach)

## Constraints
- This is analysis only — do not modify any files
- Consider that CLAUDE.md line 83 already says "Do NOT read product-vision-strategy.md unless needed"
- Factor in the governance report findings at `.ops/analysis/agent-governance-report.md`
- Proposed split docs should live under `.ops/` to maintain existing conventions

## Quality Scores
- **Clarity**: 95%
- **Efficiency**: 85%
- **Structure**: 92%
- **Completeness**: 90%
- **Actionability**: 93%
- **Specificity**: 90%
- **Overall**: 91% (excellent)

## Original Prompt
```
take a look at samples/product-vision-strategy.md and tell me if it's AI efficient and/or if we could break it down into another documents more specific to security, compliance, database, etc? Create a report for that in .ops/analysis
```

## Alternative Approaches

**1. Minimal Split (Conservative)**
Split into just 2-3 docs: product-strategy.md (sections 1-7, 15-16) + technical-strategy.md (sections 8-14). Low migration cost, moderate efficiency gain.
Best for: teams that want quick wins without restructuring agent contracts.

**2. Domain-Specific Split (Recommended)**
Split into 5-6 focused docs (security, data, AI, integration, architecture, product). Maximum token savings, each doc independently loadable.
Best for: agent swarms where different agents need different domains.

**3. Section-Tagged Monolith (No Split)**
Keep one file but add machine-readable section markers so agents can extract only relevant sections programmatically.
Best for: teams that want to avoid file proliferation and cross-reference management.

## Validation Checklist

Before considering the analysis complete, verify:
- [ ] Every section of the original doc is accounted for in the proposed structure
- [ ] No information is lost or duplicated across split documents
- [ ] Cross-references between split docs are explicitly documented
- [ ] Agent read-contracts are updated in the recommendation
- [ ] Token savings are quantified (approximate word/token counts)
- [ ] The change-policy section (16) is preserved and applies to all split docs
- [ ] CLAUDE.md token-conservation rules are updated in recommendations

## Edge Cases
- Sections that serve multiple domains (e.g., "Data Principles" spans security + architecture)
- The change-policy section needs to govern ALL split documents
- New contributors not knowing which doc to consult
- Drift risk — split docs may diverge from each other over time
