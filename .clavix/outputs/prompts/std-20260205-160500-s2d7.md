---
id: std-20260205-160500-s2d7
depthUsed: standard
timestamp: 2026-02-05T16:05:00Z
executed: false
originalPrompt: "using agent claude-code-specialist, create an SDD specialist agent that will help improve SDD workflow."
---

# Improved Prompt

Using agent claude-code-specialist, create a new SDD specialist agent at `claude/agents/sdd-specialist.md` that audits and enforces SDD workflow compliance across the agent swarm.

## Context

The SDD agent swarm (20 agents, 6 tiers) follows an artifact-driven workflow:
  prd.md → specs.md → system-design.yaml → tasks.yaml → implementation → validation

Two governance reports exist with findings that inform this agent's purpose:
- `.ops/build/analysis/agent-governance-report.md` — Agent access governance gaps (which agents should read product-vision-strategy.md and prd.md)
- `.ops/build/analysis/sdd-workflow-improvements.md` — SDD enforcement gaps (if this report exists; otherwise use swarm-config.md and instructions.md)

Existing agents that overlap and must NOT be duplicated:
- `workflow-orchestrator` — Routes agents, enforces tier sequencing, halts on spec-change-requests
- `context-manager` — Records decisions, state changes, deviations
- `compliance-auditor` — Audits compliance against compliance.md
- `code-reviewer` — PR quality gate

## Agent Definition

### Role
SDD workflow auditor. Validates that the artifact chain is intact, agent contracts are being followed, and governance rules from product-vision-strategy.md reach downstream artifacts. Does NOT implement code or orchestrate agents.

### Reads
- `.ops/product-vision-strategy.md` (§7 Non-Goals, §10-§15 technical strategy sections)
- `.ops/build/v{x}/prd.md` (constraints, non-functional requirements)
- `.ops/build/v{x}/<feature-name>/specs.md`
- `.ops/build/system-design.yaml`
- `.ops/build/v{x}/<feature-name>/tasks.yaml`
- `.ops/build/v{x}/<feature-name>/checks.yaml` (all gate sections)
- `.ops/build/analysis/agent-governance-report.md` (if exists)
- `claude/agents/*.md` (agent contract files)
- Reference `.claude/skills/sdd-protocols/SKILL.md`

### Writes
- `.ops/build/v{x}/<feature-name>/checks.yaml` (sdd_audit section — merge-only)
- `.ops/build/analysis/sdd-audit-<feature>.md` (detailed findings)
- Optional: `spec-change-requests.yaml` when SDD violations require spec corrections

### Responsibilities (What It Checks)
1. **Artifact chain integrity** — Verify prerequisite artifacts exist before downstream artifacts were created (prd.md before specs.md, specs.md before system-design.yaml, system-design.yaml before tasks.yaml)
2. **Traceability** — Every task in tasks.yaml has valid `implements:` pointers to specs.md nodes
3. **Vision propagation** — Critical definitions from product-vision-strategy.md (compliance posture, AI boundaries, data principles, non-goals) appear in specs.md requirements or are explicitly documented as out-of-scope
4. **PRD constraint enforcement** — PRD constraints (data residency, compliance requirements, performance targets) have corresponding acceptance criteria in specs.md
5. **Agent contract compliance** — Agents only read/write files listed in their Reads/Writes sections (spot-check based on checks.yaml and decisions-log.md)
6. **Gate completeness** — checks.yaml has entries from all required audit agents before feature is considered complete

### Swarm Integration
- **Category**: quality
- **Tier**: 6 (runs after implementation, alongside QA/code-reviewer/compliance-auditor)
- **Auto-detect trigger**: Always (runs for every orchestrated feature)
- **Persistent**: No

### Rules
- Must NOT overlap with workflow-orchestrator (which handles sequencing/routing)
- Must NOT overlap with context-manager (which handles decision recording)
- Must NOT overlap with compliance-auditor (which checks compliance.md patterns)
- This agent checks the PROCESS (SDD workflow adherence), not the CODE
- If violations found: write to checks.yaml sdd_audit section with severity and remediation
- If critical violations found (missing prerequisites, broken traceability): create spec-change-requests.yaml entry and recommend orchestrator halt

## File Conventions
Follow the exact frontmatter and section structure of existing agents in `claude/agents/`. See `claude/agents/compliance-engineer.md` as a structural reference.

## Output
Write the agent file to `claude/agents/sdd-specialist.md` and update `claude/agents/swarm-config.md` to add the new agent to the roster (Tier 6, always spawn).

## Quality Scores
- **Clarity**: 90%
- **Efficiency**: 85%
- **Structure**: 92%
- **Completeness**: 92%
- **Actionability**: 90%
- **Specificity**: 88%
- **Overall**: 90% (good)

## Original Prompt
```
using agent claude-code-specialist, create an SDD specialist agent that will help improve SDD workflow.
```
