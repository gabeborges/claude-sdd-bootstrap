---
id: std-20260206-160000-t7k9
depthUsed: standard
timestamp: 2026-02-06T16:00:00Z
executed: true
originalPrompt: "add tools definition to all agents in claude/agents"
---

# Improved Prompt

## Objective

Add the `tools:` YAML frontmatter field to all 19 agent files in `claude/agents/`
that are currently missing it. Apply principle of least privilege — each agent gets
only the tools its role requires.

## Context

- Agent files live in `claude/agents/*.md`
- Only `claude-code-specialist.md` currently has `tools:` defined
- The `tools:` field is an enforced allowlist — agents can only use listed tools
- This is a bootstrap project: files in `claude/` become `.claude/` in real projects

## Available Tools

| Tool | Purpose | Category |
|------|---------|----------|
| Read | Read files | read-only |
| Write | Create new files | file-mutation |
| Edit | Modify existing files | file-mutation |
| Glob | Find files by pattern | read-only |
| Grep | Search file contents | read-only |
| Bash | Execute shell commands | execution |
| Task | Spawn subagents | orchestration |
| WebFetch | Fetch URLs | external |
| WebSearch | Search the web | external |

## Tool Assignment by Agent Category

### Read-Only Agents (auditors, reviewers — cannot modify code)
- `tools: Read, Glob, Grep`
- Agents: security-auditor, compliance-auditor, code-reviewer, qa

### Read + Bash Agents (need to run tests/commands but not modify code)
- `tools: Read, Glob, Grep, Bash`
- Agents: debugger (needs to run repro commands)

### Planning Agents (write specs/artifacts, not application code)
- `tools: Read, Write, Edit, Glob, Grep`
- Agents: spec-writer, architect, database-administrator, project-task-planner,
  context-manager, sdd-specialist

### Design Agents (write design artifacts only)
- `tools: Read, Write, Edit, Glob, Grep`
- Agents: ui-designer, frontend-designer

### Implementation Agents (write code, run builds/tests)
- `tools: Read, Write, Edit, Glob, Grep, Bash`
- Agents: fullstack-developer, test-automator

### Security/Compliance Engineers (write security artifacts, may need Bash for scanning)
- `tools: Read, Write, Edit, Glob, Grep, Bash`
- Agents: security-engineer, compliance-engineer

### Orchestration Agents (spawn other agents, read artifacts)
- `tools: Read, Glob, Grep, Bash, Task`
- Agents: workflow-orchestrator

## Process

For each agent file in `claude/agents/`:
1. Read the file
2. Check if `tools:` already exists in frontmatter — skip if present
3. Determine the correct tool set based on the category above
4. Add `tools:` line to the YAML frontmatter (after existing fields)
5. Verify the file after editing

## Constraints
- Do NOT modify anything outside the YAML frontmatter
- Do NOT change the agent's body content, rules, or behavior
- Preserve all existing frontmatter fields (name, description, category, model)
- Keep the `tools:` format consistent: `tools: Tool1, Tool2, Tool3`

## Success Criteria
- All 20 agent files have a `tools:` field in their frontmatter
- No agent has more tools than its role requires
- No file content outside frontmatter was modified

## Quality Scores
- **Clarity**: 80%
- **Efficiency**: 90%
- **Structure**: 60%
- **Completeness**: 40%
- **Actionability**: 45%
- **Specificity**: 55%
- **Overall**: 58% (needs-improvement)

## Original Prompt
```
add tools definition to all agents in claude/agents
```
