---
id: std-20260205-140000-p3k7
depthUsed: standard
timestamp: 2026-02-05T14:00:00Z
executed: false
originalPrompt: "make sure AGENTS.md has the following SDD rules:\n\nSDD Rules\n- specs.md cannot be created if prd.md does not exist\n- system-design.yaml cannot be created if specs.md do not exist\n- tasks.yaml cannot be created if system-design.yaml and specs.md does not exist"
---

# Improved Prompt

# Add SDD Prerequisite Rules to AGENTS.md

## Objective
Add explicit artifact dependency rules to the AGENTS.md Workflow Discipline section, ensuring each SDD artifact cannot be created without its prerequisite.

## Rules to Add

These are **stop conditions** — if the prerequisite is missing, STOP and create it first (or ask the user). Add them to the existing "SDD Artifact Flow" subsection in AGENTS.md Workflow Discipline.

| Artifact | Prerequisite | Agent Responsible | On Violation |
|---|---|---|---|
| `specs.md` | `prd.md` must exist for that version | spec-writer | STOP — create prd.md first |
| `system-design.yaml` | `specs.md` must exist for that feature | architect | STOP — run spec-writer first |
| `tasks.yaml` | Both `specs.md` AND `system-design.yaml` must exist | project-task-planner | STOP — run architect first |

## Constraints
- Only modify AGENTS.md — do NOT touch CLAUDE.md
- Read AGENTS.md first to see what prerequisite rules already exist (the previous task added some flow rules — merge, don't duplicate)
- Do not fabricate new rules beyond the 3 specified
- Keep the rules concise (table or bullet format)

## Process
1. Read current AGENTS.md
2. Find the Workflow Discipline / SDD Artifact Flow section
3. Check what prerequisite rules already exist
4. Add/merge the 3 rules above without duplicating existing content
5. Read back AGENTS.md to verify

## Quality Criteria
- All 3 prerequisite rules present and correct
- No duplication with existing flow rules
- Each rule specifies: artifact, prerequisite, what to do on violation

## Quality Scores
- **Clarity**: 92%
- **Efficiency**: 90%
- **Structure**: 90%
- **Completeness**: 88%
- **Actionability**: 90%
- **Specificity**: 85%
- **Overall**: 90% (excellent)

## Original Prompt
```
make sure AGENTS.md has the following SDD rules:

SDD Rules
- specs.md cannot be created if prd.md does not exist
- system-design.yaml cannot be created if specs.md do not exist
- tasks.yaml cannot be created if system-design.yaml and specs.md does not exist
```
