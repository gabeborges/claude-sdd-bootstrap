---
id: comp-20260206-120000-sd4a
depthUsed: standard
timestamp: 2026-02-06T12:00:00Z
executed: false
originalPrompt: "use sdd-specialist agent to analyze all SDD files (CLAUDE.md, AGENTS.md, /claude/commands/orchestrate.md command, claude/agents/instruction.md, claude/agents/swarm-config.md, and claude/agents) and generate a report indicating if SDD is being followed, if it was well implemented, how good is the implementation (0-100%), if there are any gaps, flaws or opportunities for improvement"
---

# Improved Prompt

## SDD Implementation Audit — Full Swarm Analysis

### Objective
Act as the sdd-specialist agent (claude/agents/sdd-specialist.md). Perform a comprehensive audit
of the SDD (Specification-Driven Development) implementation across all configuration files,
agent definitions, and orchestration commands. Produce a scored report with actionable findings.

### Files to Audit (Exact Paths)

**Core SDD Configuration:**
- `CLAUDE.md` — Project rules, security policies, SDD artifact flow (lines ~72-76)
- `AGENTS.md` — Agent coordination reference, artifact priority order
- `claude/agents/instructions.md` — SDD workflow instructions, deterministic artifact-driven flow
- `claude/agents/swarm-config.md` — Agent-to-Tier mapping, auto-detection triggers, 20-agent roster
- `claude/commands/orchestrate.md` — SDD swarm orchestration, tier-by-tier agent spawning with dependency DAG

**All 19 Agent Definitions (claude/agents/):**
- architect.md, claude-code-specialist.md, code-reviewer.md, compliance-auditor.md,
  compliance-engineer.md, context-manager.md, database-administrator.md, debugger.md,
  frontend-designer.md, fullstack-developer.md, project-task-planner.md, qa.md,
  sdd-specialist.md, security-auditor.md, security-engineer.md, spec-writer.md,
  test-automator.md, ui-designer.md, workflow-orchestrator.md

**SDD Reference Materials:**
- `.claude/skills/sdd-protocols/SKILL.md` — Artifact chain, spec-change-requests, checks.yaml, escalation rules
- `.ops/quick-product-vision-strategy.md` — Product vision distilled
- `.ops/security-compliance-baseline.md` — Security/compliance distilled
- `.ops/tech-architecture-baseline.md` — Architecture distilled

**Prior Analysis (incorporate, don't duplicate):**
- `.ops/analysis/sdd-workflow-improvements.md` — Existing DB migration timing + SDD enforcement gaps report

### Evaluation Criteria (Score Each 0-100%)

1. **Artifact Chain Integrity** — Is the canonical order enforced?
   (`specs.md` → `system-design.yaml` → `db-migration-plan.yaml` [conditional] → `tasks.yaml`)
   - Are gate checks preventing out-of-order artifact creation?
   - Do agents respect dependency ordering in their Reads/Writes contracts?

2. **Agent Contract Completeness** — Does each agent have well-defined:
   - Role description, Reads (inputs), Writes (outputs), Rules, Workflow sections?
   - Are Reads/Writes contracts consistent with what the agent actually needs?
   - Are there agents reading files not in their Reads list, or missing files they should read?

3. **Orchestration Correctness** — Does the orchestrate command + swarm-config properly:
   - Map agents to correct tiers?
   - Enforce tier dependencies (Tier N completes before Tier N+1)?
   - Handle conditional agents (e.g., database-administrator only for DB-touching features)?

4. **Governance & Compliance Coverage** — Are product-vision-strategy rules enforced?
   - How many of the 17 critical compliance/security rules from product-vision-strategy.md
     are covered by CLAUDE.md + agent rules combined?
   - Reference the existing governance gap analysis from memory

5. **Consistency & Cross-references** — Do files agree with each other?
   - Does CLAUDE.md's SDD artifact flow match instructions.md's flow?
   - Does swarm-config.md's agent roster match actual agent files?
   - Do skill references in agents point to existing skills?

6. **Spec-Change & Escalation Protocols** — Are safety valves in place?
   - Is spec-change-requests.yaml workflow defined and referenced by relevant agents?
   - Are escalation rules clear for when agents encounter conflicts?

### Deliverables

**1. Executive Summary**
- Overall SDD Implementation Score (0-100%, weighted average of 6 criteria)
- One-paragraph health assessment
- Top 3 strengths, Top 3 critical gaps

**2. Detailed Scoring Table**
| Criterion | Score | Rating | Key Finding |
|-----------|-------|--------|-------------|
| (each of the 6 criteria above) | 0-100% | Excellent/Good/Fair/Poor | Brief note |

**3. Findings (by severity)**
- **P1 (Critical):** Gaps that could cause SDD violations or broken workflows
- **P2 (Important):** Inconsistencies or missing coverage that weaken SDD enforcement
- **P3 (Improvement):** Opportunities to strengthen the implementation
- **P4 (Nice-to-have):** Polish and optimization suggestions

Each finding should include:
- What's wrong / What's missing
- Which file(s) are affected
- Recommended fix (specific, actionable)

**4. Agent-by-Agent Compliance Matrix**
For each of the 19 agents, show:
| Agent | Contract Complete? | Reads Valid? | Writes Valid? | Tier Correct? | Issues |

### Output Location
Save the report to: `.ops/build/analysis/sdd-implementation-audit.md`

## Quality Scores
- **Clarity**: 92%
- **Efficiency**: 85%
- **Structure**: 95%
- **Completeness**: 92%
- **Actionability**: 90%
- **Specificity**: 93%
- **Overall**: 91% (excellent)

## Original Prompt
```
use sdd-specialist agent to analyze all SDD files (CLAUDE.md, AGENTS.md, /claude/commands/orchestrate.md command, claude/agents/instruction.md, claude/agents/swarm-config.md, and claude/agents) and generate a report indicating if SDD is being followed, if it was well implemented, how good is the implementation (0-100%), if there are any gaps, flaws or opportunities for improvement
```
